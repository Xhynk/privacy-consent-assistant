"use strict";var consentBar=document.querySelector("#trm-gdpr-consent-bar"),consentVersions=document.querySelector("#trm-gdpr-versions");if(consentVersions)var revised=consentVersions.getAttribute("data-revised"),versions=consentVersions.getAttribute("data-versions");function findAncestor(e,n){for(;(e=e.parentElement)&&!e.classList.contains(n)&&e.tagName!=n;);return e}function urldecode(e){return decodeURIComponent(e.replace(/\+/g," "))}function createCORSRequest(e,n){var t=new XMLHttpRequest;return"withCredentials"in t?t.open(e,n,!0):"undefined"!=typeof XDomainRequest?(t=new XDomainRequest).open(e,n):t=null,t}function deleteCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function setCookie(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"/",o=(3<arguments.length&&void 0!==arguments[3]&&arguments[3],new Date);o.setFullYear(o.getFullYear()+1);var i=" expires="+o.toGMTString()+";";document.cookie=e+"="+n+"; path="+t+";"+i}var getCookie=function(e){var n=document.cookie.match(new RegExp(e+"=([^;]+)"));return n?n[1]:null};function closeTRMGDPRconsent(){var e=[];e.name="trm-privacy-consent",e.value='{"close":true,"versions":"'+versions+'","revised":"'+revised+'"}',deleteCookie(e.name),setCookie(e.name,urldecode(e.value)),null!=consentBar&&consentBar.remove()}function display_consent_bar(){null!=consentBar&&setTimeout(function(){consentBar.setAttribute("style","height: auto; opacity: 1;")},750)}!function(){var e=getCookie("trm-privacy-consent");null!=e?e=='{"close":true,"versions":"'+versions+'","revised":"'+revised+'"}'?(null!=consentBar&&consentBar.remove(),console.log("Privacy Consent Found: [Versions: "+versions.replace(/-/g, ", ")+"] [Revised: "+revised.replace(/-/g,", ").replace(/_/g, " ")+"]")):(console.log("Privacy Consent Expired"),display_consent_bar()):(console.log("Privacy Consent Not Found"),display_consent_bar())}();var dynamicDelete=document.querySelectorAll(".dynamic-delete");if(null!=dynamicDelete)for(var i=0,n=dynamicDelete.length;i<n;++i)dynamicDelete[i].onclick=function(){if(confirm('Click "OK" to remove this notice.')){this.classList.add("deleting");var e=findAncestor(this,"trm-gdpr-ui"),n=findAncestor(this,"FORM").getAttribute("id"),t=e.getAttribute("site-url"),o=e.getAttribute("dynamic-delete-page"),i=e.getAttribute("nonce"),r=t+"?trm_gdpr_method=dynamic-delete&dynamic-page="+o+"&dynamic-index="+e.getAttribute("dynamic-delete-index")+"&nonce="+i;null!=n&&(r=r+"&form_id="+n);var s=createCORSRequest("GET",r);if(!s)throw new Error("CORS not supported");s.onload=function(){if(json=JSON.parse(s.response),this.classList.remove("deleting"),200!=json.status)throw new Error("Dynamic Delete Failed. "+json.message);console.log(json.message),e.remove()}.bind(this),s.send()}};