function findAncestor(a,b){for(;(a=a.parentElement)&&!a.classList.contains(b)&&a.tagName!=b;);return a}function createCORSRequest(a,b){var c=new XMLHttpRequest;return'withCredentials'in c?c.open(a,b,!0):'undefined'==typeof XDomainRequest?c=null:(c=new XDomainRequest,c.open(a,b)),c}let dynamicDelete=document.querySelectorAll('.dynamic-delete');for(i=0,n=dynamicDelete.length;i<n;++i)dynamicDelete[i].onclick=function(){if(confirm('Click "OK" to remove this notice.')){this.classList.add('deleting');let a=findAncestor(this,'trm-gdpr-ui'),b=findAncestor(this,'FORM').getAttribute('id'),c=a.getAttribute('site-url'),d=a.getAttribute('dynamic-delete-page'),e=a.getAttribute('nonce');index=a.getAttribute('dynamic-delete-index');let f=c+'?trm_gdpr_method=dynamic-delete&dynamic-page='+d+'&dynamic-index='+index+'&nonce='+e;null!=b&&(f=f+'&form_id='+b);let g=createCORSRequest('GET',f);if(!g)throw new Error('CORS not supported');else g.onload=function(){if(json=JSON.parse(g.response),this.classList.remove('deleting'),200==json.status)console.log(json.message),a.remove();else throw new Error('Dynamic Delete Failed. '+json.message)}.bind(this),g.send()}};function deleteCookie(a){document.cookie=a+'=; expires=Thu, 01 Jan 1970 00:00:01 GMT;'}function setCookie(a,b,c='/',d=null){if(null==d){let e=new Date;e.setFullYear(e.getFullYear()+1);' expires='+e.toGMTString()+';'}document.cookie=a+'='+b+'; path='+c+';'+expires}var getCookie=function(a){var b=document.cookie.match(new RegExp(a+'=([^;]+)'));return!b?null:b[1]};function urldecode(a){return decodeURIComponent(a.replace(/\+/g,' '))}let consentBar=document.querySelector('#trm-gdpr-consent-bar'),consentVersions=document.querySelector('#trm-gdpr-versions'),revised=consentVersions.getAttribute('data-revised'),versions=consentVersions.getAttribute('data-versions');function closeTRMGDPRconsent(){let a=[];a.name='trm-gdpr-consent',a.value='{"close":true,"versions":"'+versions+'","revised":"'+revised+'"}',deleteCookie(a.name),setCookie(a.name,urldecode(a.value)),null!=consentBar&&consentBar.remove()}(function(){let a=getCookie('trm-gdpr-consent');if(null!=a){a=='{"close":true,"versions":"'+versions+'","revised":"'+revised+'"}'&&null!=consentBar&&consentBar.remove()}})();